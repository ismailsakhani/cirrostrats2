{% extends "dj_app/base.html" %}

{% load static %}

{% block content %}

<style>
    
  /* Add light and dark mode switch styles */
  .dark-mode-switch {
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center; /* Add this line to center horizontally */
    top: 17%;
    left: 40%;
    width: 100%; /* Set the width to 100% to span the entire width */
  }
  
  /* Hide the default checkbox */
  .dark-mode-switch input[type="checkbox"] {
    display: none;
  }
  
  /* Style the toggle switch */
  .dark-mode-switch label {
    display: block;
    width: 50px; /* Adjust the width as per your preference */
    height: 26px; /* Adjust the height as per your preference */
    border-radius: 13px; /* Half of the height to create a round switch */
    background-color: #ccc; /* Default background color */
    position: relative;
    cursor: pointer;
  }
  
  /* Style the toggle switch handle */
  .dark-mode-switch label::after {
    content: "";
    position: absolute;
    top: 2px; /* Adjust the position as per your preference */
    left: 2px; /* Adjust the position as per your preference */
    width: 22px; /* Adjust the width as per your preference */
    height: 22px; /* Adjust the height as per your preference */
    border-radius: 50%; /* Create a round handle */
    background-color: #fff; /* Default handle color */
    transition: all 0.3s ease-in-out;
  }
  
  /* Adjust the appearance for the checked (dark mode) state */
  .dark-mode-switch input[type="checkbox"]:checked + label {
    background-color: #6b6b6b; /* Background color for dark mode */
  }
  
  .dark-mode-switch input[type="checkbox"]:checked + label::after {
    transform: translateX(24px); /* Move the handle to the right for checked state */
  }
  
  </style>

<link rel="stylesheet" type="text/css" href="{% static 'metar_info.css' %}">

 <!-- Light and dark mode switch -->
 <div class="dark-mode-switch">
  <input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()">
  <label for="darkModeToggle"></label>
</div>

<div class="search-form-wrapper">
  <h3> Weather for {{airport}}</h3>
  {% if weather %}
  <table class="table">
    <tbody>
      {% for title, raw_data  in weather.items %}
        <tr>
          <th>{{ title }}</th>
          <td>{{ raw_data|safe }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <p>No weather informamtion found for {{airport}}. Try `w kewr`</p>

  {% endif %}
  {% csrf_token %}
    <form method="post" class="search-form">
        {% csrf_token %}
        <label for="query"></label>
        <input type="text" name="query" id="query">
        <button type="submit">Search</button>
    </form>

    <script>
      // JavaScript function to toggle dark mode
      function toggleDarkMode() {
        var body = document.body;
        body.classList.toggle("dark-mode");
      }
    </script>
    
{% endblock %}
