{% extends "dj_app/base.html" %}

{% load static %}

{% block content %}

<style>
    
  /* Add light and dark mode switch styles */
  .dark-mode-switch {
    position: fixed;
    top: 100px;
    right: 10px;
    display: flex;
    align-items: center;
    z-index: 9999;
  }
  
  .dark-mode-switch label {
    margin-left: 5px;
  }

</style>

<link rel="stylesheet" type="text/css" href="{% static 'metar_info.css' %}">
<!-- Light and dark mode switch -->
<div class="dark-mode-switch">
  <input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()">
  <label for="darkModeToggle">Dark Mode</label>
</div>
<div class="search-form-wrapper">
  <h3> Weather for {{airport}}</h3>
  {% if weather %}
  <table class="table">
    <tbody>
      {% for title, raw_data  in weather.items %}
        <tr>
          <th>{{ title }}</th>
          <td>{{ raw_data|safe }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
    <p>No weather informamtion found for {{airport}}. Try `w kewr`</p>

  {% endif %}
  {% csrf_token %}
    <form method="post" class="search-form">
        {% csrf_token %}
        <label for="query"></label>
        <input type="text" name="query" id="query">
        <button type="submit">Search</button>
    </form>

    <script>
      // JavaScript function to toggle dark mode
      function toggleDarkMode() {
        var body = document.body;
        body.classList.toggle("dark-mode");
      }
    </script>
    
{% endblock %}
