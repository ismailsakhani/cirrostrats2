{% extends "dj_app/base.html" %}

{% load static %}

{% block content %}

<style>
    
  /* Add light and dark mode switch styles */
  .dark-mode-switch {
    position: fixed ;
    display: flex;
    align-items: center;
    justify-content: center; /* Add this line to center horizontally */
    top: 2%;
    left: 70%;
    z-index: 999; /* Increase the z-index value */
  }
  
  /* Hide the default checkbox */
  .dark-mode-switch input[type="checkbox"] {
    display: none;
  }
  
  /* Style the toggle switch */
  .dark-mode-switch label {
    display: block;
    width: 50px; /* Adjust the width as per your preference */
    height: 26px; /* Adjust the height as per your preference */
    border-radius: 13px; /* Half of the height to create a round switch */
    background-color: #ccc; /* Default background color */
    position: relative;
    cursor: pointer;
  }
  
  /* Style the toggle switch handle */
  .dark-mode-switch label::after {
    content: "";
    position: absolute;
    top: 2px; /* Adjust the position as per your preference */
    left: 2px; /* Adjust the position as per your preference */
    width: 22px; /* Adjust the width as per your preference */
    height: 22px; /* Adjust the height as per your preference */
    border-radius: 50%; /* Create a round handle */
    background-color: #fff; /* Default handle color */
    transition: all 0.3s ease-in-out;
  }
  
  /* Adjust the appearance for the checked (dark mode) state */
  .dark-mode-switch input[type="checkbox"]:checked + label {
    background-color: #6b6b6b; /* Background color for dark mode */
  }
  
  .dark-mode-switch input[type="checkbox"]:checked + label::after {
    transform: translateX(24px); /* Move the handle to the right for checked state */
  }
  
  </style>

<h2>Flight Gate Information</h2>
<link rel="stylesheet" type="text/css" href="{% static 'flight_info.css' %}">
<div class="search-form-wrapper">
  <form method="post" class="search-form">
    {% csrf_token %}
    <label for="query"></label>
    <input type="text" name="query" id="query">
    <button type="submit">Search</button>
  </form>
</div>

<!-- Light and dark mode switch -->
<div class="dark-mode-switch">
  <input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()">
  <label for="darkModeToggle"></label>
</div>

{% if gate_data_table %}
<div class="table-wrapper">
  <table>
    <thead>
      <tr>
        <th>Gate</th>
        <th>Flight</th>
        <th>Scheduled</th>
        <th>Actual</th>
      </tr>
    </thead>
    <tbody>
    {% for flight in gate_data_table %}
      <tr>
        <td>{{ flight.gate }}</td>
        <td>{{ flight.flight_number }}</td>
        <td>{{ flight.scheduled }}</td>
        <td>{{ flight.actual }}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
</div>  

<script>
  // JavaScript function to toggle dark mode
  function toggleDarkMode() {
    var body = document.body;
    body.classList.toggle("dark-mode");
  }
</script>

{% else %}
  <h3>No Results for {{gate}}.</h3>
{% endif %}
{% endblock %}
