{% extends "dj_app/base.html" %}

{% load static %}

{% block content %}

<style>
    
  /* Add light and dark mode switch styles */
  .dark-mode-switch {
    position: fixed;
    top: 100px;
    right: 10px;
    display: flex;
    align-items: center;
    z-index: 9999;
  }
  
  .dark-mode-switch label {
    margin-left: 5px;
  }

</style>

<h2>Flight Gate Information</h2>
<link rel="stylesheet" type="text/css" href="{% static 'flight_info.css' %}">
<div class="search-form-wrapper">
  <form method="post" class="search-form">
    {% csrf_token %}
    <label for="query"></label>
    <input type="text" name="query" id="query">
    <button type="submit">Search</button>
  </form>
</div>

<!-- Light and dark mode switch -->
<div class="dark-mode-switch">
  <input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()">
  <label for="darkModeToggle">Dark Mode</label>
</div>

{% if gate_data_table %}
<div class="table-wrapper">
  <table>
    <thead>
      <tr>
        <th>Gate</th>
        <th>Flight</th>
        <th>Scheduled</th>
        <th>Actual</th>
      </tr>
    </thead>
    <tbody>
    {% for flight in gate_data_table %}
      <tr>
        <td>{{ flight.gate }}</td>
        <td>{{ flight.flight_number }}</td>
        <td>{{ flight.scheduled }}</td>
        <td>{{ flight.actual }}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
</div>  

<script>
  // JavaScript function to toggle dark mode
  function toggleDarkMode() {
    var body = document.body;
    body.classList.toggle("dark-mode");
  }
</script>

{% else %}
  <h3>No Results for {{gate}}.</h3>
{% endif %}
{% endblock %}
